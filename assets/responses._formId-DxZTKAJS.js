import{v as p,r as o,n as e}from"./components-CI4-KR-R.js";import{A as g}from"./AppLayout-CnIXLKMR.js";import{u as h}from"./formStore-B0pwvZwb.js";import"./clsx-B-dksMZM.js";const j=()=>[{title:"Form Responses"},{name:"description",content:"View responses submitted to your form"}];function v(){const{formId:s}=p(),{forms:d,responses:n,setActiveFormId:l}=h(),[r,m]=o.useState(null),[c,x]=o.useState([]);return o.useEffect(()=>{if(s){const t=d.find(i=>i.id===s);if(!t){window.location.href="/forms";return}l(s),m(t);const a=n.filter(i=>i.formId===s);x(a)}},[s,d,n,l]),e.jsx(g,{children:e.jsxs("div",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r?`Responses: ${r.title||"Untitled Form"}`:"Form Responses"}),e.jsx("a",{href:`/builder/${s}`,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Edit Form"})]}),c.length===0?e.jsxs("div",{className:"text-center py-16 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"No responses yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Share your form to collect responses"}),e.jsx("a",{href:`/preview/${s}`,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Preview Form"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Submission Date"}),r&&r.steps.flatMap(t=>t.fields).map(t=>e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t.label||t.placeholder||t.name||"Unlabeled Field"},t.id))]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800",children:c.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(t.submittedAt).toLocaleString()}),r&&r.steps.flatMap(a=>a.fields).map(a=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:t.data[a.id]||"-"},a.id))]},t.id))})]})})]})})}export{v as default,j as meta};
